{"ast":null,"code":"import _regeneratorRuntime from\"/Users/nicollete/Desktop/API-Recipe-Project/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/nicollete/Desktop/API-Recipe-Project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/nicollete/Desktop/API-Recipe-Project/node_modules/@babel/runtime/helpers/esm/slicedToArray\";// Default landing page\nimport React,{useEffect,useState}from'react';import Button from'../components/Button';import Drink from'../components/Drink';import Food from'../components/Food';import Footer from'../components/Footer';import Header from'../components/Header';import Search from'../components/Search';import{BiError}from'react-icons/bi';import{ImSad}from'react-icons/im';import DrinkSearchResults from'../components/DrinkSearchResults';import FoodSearchResults from'../components/FoodSearchResults';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Home(){// State variables for displaying correct API information when available\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),url=_useState2[0],seturl=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchTerm=_useState4[0],setsearchTerm=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),api=_useState6[0],setapi=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),info=_useState8[0],setinfo=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),infoReady=_useState10[0],setinfoReady=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),infoIsFood=_useState12[0],setinfoIsFood=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),infoIsNull=_useState14[0],setinfoIsNull=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),id=_useState16[0],setid=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),choiceClicked=_useState18[0],setchoiceClicked=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),choiceInfo=_useState20[0],setchoiceInfo=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),warning=_useState22[0],setWarning=_useState22[1];// Function to handle form information when submitted to make sure nothing is left blank and update appropriate states\nvar findRecipe=function findRecipe(e){e.preventDefault();if(e.target.recipeType.value.trim()!==''&&e.target.searchTerm.value.trim()!==''){if(e.target.recipeType.value.includes(\"meal\")){setapi(\"meal\");}else{setapi(\"drink\");}seturl(e.target.recipeType.value);setsearchTerm(e.target.searchTerm.value);e.target.reset();}else{setWarning([/*#__PURE__*/_jsx(BiError,{style:styles.icon}),\" Please don't leave any fields blank\"]);}};// Function to return to search form when new search button is pressed\nvar newSearch=function newSearch(){setinfo('');setchoiceClicked(false);setchoiceInfo('');setinfoReady(false);setWarning('');setinfoIsNull(false);};var backToSearch=function backToSearch(){setchoiceClicked(false);setchoiceInfo('');};var choiceSelected=function choiceSelected(e){e.preventDefault();setid(e.target.id);};// When all appropriates states have been updated, api info will be fetched and viewport will display all gathered info\nuseEffect(function(){function fetchAPI(){return _fetchAPI.apply(this,arguments);}function _fetchAPI(){_fetchAPI=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data,_response,_data,_response2,_data2;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(url!=='')){_context.next=9;break;}_context.next=3;return fetch(\"\".concat(url,\"api/json/v1/1/search.php?s=\").concat(searchTerm));case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;if(api===\"meal\"){setinfo(data.meals);setinfoIsFood(true);}else{setinfo(data.drinks);setinfoIsFood(false);}setinfoReady(true);case 9:if(!(id!=='')){_context.next=28;break;}if(!(api===\"meal\")){_context.next=20;break;}_context.next=13;return fetch(\"https://www.themealdb.com/api/json/v1/1/lookup.php?i=\".concat(id));case 13:_response=_context.sent;_context.next=16;return _response.json();case 16:_data=_context.sent;setchoiceInfo(_data.meals);_context.next=27;break;case 20:_context.next=22;return fetch(\"https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=\".concat(id));case 22:_response2=_context.sent;_context.next=25;return _response2.json();case 25:_data2=_context.sent;setchoiceInfo(_data2.drinks);case 27:setchoiceClicked(true);case 28:case\"end\":return _context.stop();}}},_callee);}));return _fetchAPI.apply(this,arguments);};fetchAPI();seturl('');setid('');if(info==null){setinfoIsNull(true);}},[url,searchTerm,api,info,id]);// Structure to display info on viewport\nreturn/*#__PURE__*/_jsxs(\"div\",{style:styles.display,children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"main\",{style:styles.main,children:infoReady?infoIsNull?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{style:styles.h2,children:[\"all recipes found for: \",searchTerm]}),/*#__PURE__*/_jsx(Button,{content:\"New Search\",clickEvent:newSearch,style:styles.button}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(ImSad,{style:styles.icon}),\" We're sorry. We couldn't find any recipes matching \",searchTerm,\". Please try again.\"]})]}):infoIsFood?choiceClicked?/*#__PURE__*/_jsxs(_Fragment,{children:[choiceInfo.map(function(recipe,index){return/*#__PURE__*/_jsx(Food,{data:recipe},index);}),/*#__PURE__*/_jsx(Button,{content:\"New Search\",clickEvent:newSearch,style:styles.button}),/*#__PURE__*/_jsx(Button,{content:\"Back To Search Results\",clickEvent:backToSearch,style:styles.button})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{style:styles.h2,children:[\"all recipes found for: \",searchTerm]}),/*#__PURE__*/_jsx(Button,{content:\"New Search\",clickEvent:newSearch,style:styles.button}),info.map(function(recipe,index){return/*#__PURE__*/_jsx(FoodSearchResults,{data:recipe,choiceSelected:choiceSelected},index);}),/*#__PURE__*/_jsx(Button,{content:\"New Search\",clickEvent:newSearch,style:styles.button})]}):choiceClicked?/*#__PURE__*/_jsxs(_Fragment,{children:[choiceInfo.map(function(recipe,index){return/*#__PURE__*/_jsx(Drink,{data:recipe},index);}),/*#__PURE__*/_jsx(Button,{content:\"New Search\",clickEvent:newSearch,style:styles.button}),/*#__PURE__*/_jsx(Button,{content:\"Back To Search Results\",clickEvent:backToSearch,style:styles.button})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{style:styles.h2,children:[\"all recipes found for: \",searchTerm]}),/*#__PURE__*/_jsx(Button,{content:\"New Search\",clickEvent:newSearch,style:styles.button}),info.map(function(recipe,index){return/*#__PURE__*/_jsx(DrinkSearchResults,{data:recipe,choiceSelected:choiceSelected},index);}),/*#__PURE__*/_jsx(Button,{content:\"New Search\",clickEvent:newSearch,style:styles.button})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{style:styles.h2,children:\"search free recipes\"}),/*#__PURE__*/_jsx(\"p\",{style:styles.instructions,children:\"Welcome to Anyone Can Cook, the online database for finding delicious recipes for any occasion! Looking for something specific? Enter a search word below and find exactly what you're looking for. Feeling a little adventourous? Try the random meal or drink recipe generators and try something new.\"}),/*#__PURE__*/_jsx(Search,{findRecipe:findRecipe}),/*#__PURE__*/_jsx(\"p\",{style:styles.warning,children:warning})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default Home;var styles={display:{minHeight:'100vh',display:'flex',flexDirection:'column'},main:{flexGrow:'1',textAlign:'center',color:'rgb(21, 21, 21)'},h2:{borderBottom:'dashed 2px rgba(81, 152, 114, .5)',width:'max-content',margin:'2rem auto',textTransform:'capitalize'},instructions:{width:'65rem',margin:'0 auto 3rem auto'},warning:{color:'rgb(186, 63, 29)'},icon:{fontSize:'1.8rem',verticalAlign:'text-top'},button:{margin:'0 0 1.5rem 1rem',width:'max-content',height:'2.5rem',borderRadius:'3rem',borderColor:'rgb(161, 103, 74)',color:'rgb(161, 103, 74)',backgroundColor:'rgb(253, 255, 252)',fontSize:'.9rem'}};","map":{"version":3,"sources":["/Users/nicollete/Desktop/API-Recipe-Project/src/pages/Home.js"],"names":["React","useEffect","useState","Button","Drink","Food","Footer","Header","Search","BiError","ImSad","DrinkSearchResults","FoodSearchResults","Home","url","seturl","searchTerm","setsearchTerm","api","setapi","info","setinfo","infoReady","setinfoReady","infoIsFood","setinfoIsFood","infoIsNull","setinfoIsNull","id","setid","choiceClicked","setchoiceClicked","choiceInfo","setchoiceInfo","warning","setWarning","findRecipe","e","preventDefault","target","recipeType","value","trim","includes","reset","styles","icon","newSearch","backToSearch","choiceSelected","fetchAPI","fetch","response","json","data","meals","drinks","display","main","h2","button","map","recipe","index","instructions","minHeight","flexDirection","flexGrow","textAlign","color","borderBottom","width","margin","textTransform","fontSize","verticalAlign","height","borderRadius","borderColor","backgroundColor"],"mappings":"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","sourcesContent":["// Default landing page\n\nimport React, { useEffect, useState } from 'react';\nimport Button from '../components/Button';\nimport Drink from '../components/Drink';\nimport Food from '../components/Food';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport Search from '../components/Search'\nimport { BiError } from 'react-icons/bi'\nimport { ImSad } from 'react-icons/im'\nimport DrinkSearchResults from '../components/DrinkSearchResults';\nimport FoodSearchResults from '../components/FoodSearchResults';\n\nfunction Home() {\n\n    // State variables for displaying correct API information when available\n    const [url, seturl] = useState('');\n    const [searchTerm, setsearchTerm] = useState('');\n    const [api, setapi] = useState('');\n    const [info, setinfo]= useState('');\n    const [infoReady, setinfoReady] = useState(false);\n    const [infoIsFood, setinfoIsFood] = useState(false);\n    const [infoIsNull, setinfoIsNull] = useState(false);\n    const [id, setid] = useState('');\n    const [choiceClicked, setchoiceClicked] = useState(false);\n    const [choiceInfo, setchoiceInfo] = useState('');\n    const [warning, setWarning] = useState('');\n\n    // Function to handle form information when submitted to make sure nothing is left blank and update appropriate states\n    const findRecipe = (e) => {\n        e.preventDefault();\n        if(e.target.recipeType.value.trim() !== '' && e.target.searchTerm.value.trim() !== '') {\n            if(e.target.recipeType.value.includes(\"meal\")) {\n                setapi(\"meal\");\n            }\n            else {\n                setapi(\"drink\");\n            }\n            seturl(e.target.recipeType.value);\n            setsearchTerm(e.target.searchTerm.value);\n            e.target.reset();\n        }\n        else {\n            setWarning([<BiError style={styles.icon}/>, \" Please don't leave any fields blank\"]);\n        }\n    };\n\n    // Function to return to search form when new search button is pressed\n    const newSearch = () => {\n        setinfo('');\n        setchoiceClicked(false);\n        setchoiceInfo('');\n        setinfoReady(false);\n        setWarning('');\n        setinfoIsNull(false);\n    };\n\n    const backToSearch = () => {\n        setchoiceClicked(false);\n        setchoiceInfo('');\n    }\n\n    const choiceSelected = (e) => {\n        e.preventDefault();\n        setid(e.target.id);\n    }\n\n    // When all appropriates states have been updated, api info will be fetched and viewport will display all gathered info\n    useEffect(() => {\n        async function fetchAPI() {\n            if(url !== '') {\n                const response = await fetch(`${url}api/json/v1/1/search.php?s=${searchTerm}`);\n                const data = await (response.json());\n                if(api === \"meal\") {\n                    setinfo(data.meals);\n                    setinfoIsFood(true);\n                }\n                else {\n                    setinfo(data.drinks);\n                    setinfoIsFood(false);\n                }\n                setinfoReady(true);\n            }\n\n            if(id !== '') {\n                if(api === \"meal\") {\n                    const response = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${id}`);\n                    const data = await (response.json());\n                    setchoiceInfo(data.meals);\n                }\n                else {\n                    const response = await fetch(`https://www.thecocktaildb.com/api/json/v1/1/lookup.php?i=${id}`);\n                    const data = await (response.json());\n                    setchoiceInfo(data.drinks);\n                }\n                setchoiceClicked(true);\n            }\n        }; \n        fetchAPI();\n        seturl('');\n        setid('');\n        if(info == null) {\n            setinfoIsNull(true);\n        }\n    }, [url, searchTerm, api, info, id]);\n\n    // Structure to display info on viewport\n    return(\n        <div style={styles.display}>\n            <Header />\n            <main style={styles.main}>\n                {/* If API data has been fetched, results page will display a header, and a new search button. If the information gathered from the API is null, apology will display. If the API info is not null and it is a food recipe, the FoodSearchResults component will map through it and display all thumbnails and titles. If the user clicks on a thumbnail, all info for that recipe will display. If it is a drink recipe, the DrinkSearchResults component will map through it and display all thumbnails and titles. If the user clicks on a thumbnail, all info for that recipe will display. If the API data has not been fetched, the search form will display on the screen.  */}\n                {infoReady ?\n                    infoIsNull ? <>\n                        <h2 style={styles.h2}>all recipes found for: {searchTerm}</h2>\n                        <Button content=\"New Search\" clickEvent={newSearch} style={styles.button}/>\n                        <p><ImSad style={styles.icon}/> We're sorry. We couldn't find any recipes matching {searchTerm}. Please try again.</p> \n                    </>\n                    :\n                    infoIsFood ? \n                        choiceClicked ? <>\n                            {choiceInfo.map((recipe, index) => (\n                                <Food data={recipe} key={index} />\n                            ))} \n                            <Button content=\"New Search\" clickEvent={newSearch} style={styles.button}/> \n                            <Button content=\"Back To Search Results\" clickEvent={backToSearch} style={styles.button}/>\n                        </>\n                        :   <>\n                        <h2 style={styles.h2}>all recipes found for: {searchTerm}</h2>\n                        <Button content=\"New Search\" clickEvent={newSearch} style={styles.button}/> \n                        {info.map((recipe, index) => (\n                            <FoodSearchResults data={recipe} key={index} choiceSelected={choiceSelected} />\n                        ))}\n                        <Button content=\"New Search\" clickEvent={newSearch} style={styles.button}/>  \n                        </>\n                    :\n                        choiceClicked ? <>\n                            {choiceInfo.map((recipe, index) => (\n                                <Drink data={recipe} key={index} />\n                            ))} \n                            <Button content=\"New Search\" clickEvent={newSearch} style={styles.button}/> \n                            <Button content=\"Back To Search Results\" clickEvent={backToSearch} style={styles.button}/>\n                        </>\n                        : <>\n                            <h2 style={styles.h2}>all recipes found for: {searchTerm}</h2>\n                            <Button content=\"New Search\" clickEvent={newSearch} style={styles.button}/> \n                            {info.map((recipe, index) => (\n                                <DrinkSearchResults data={recipe} key={index} choiceSelected={choiceSelected} />\n                            ))}\n                            <Button content=\"New Search\" clickEvent={newSearch} style={styles.button}/>  \n                        </>\n                :   <>\n                        <h2 style={styles.h2}>search free recipes</h2>\n                        <p style={styles.instructions}>Welcome to Anyone Can Cook, the online database for finding delicious recipes for any occasion! Looking for something specific? Enter a search word below and find exactly what you're looking for. Feeling a little adventourous? Try the random meal or drink recipe generators and try something new.</p>\n                        <Search findRecipe={findRecipe}/>\n                        <p style={styles.warning}>{warning}</p> \n                    </>\n                }\n            </main>\n            <Footer />\n        </div>\n    );\n}\n\nexport default Home;\n\nconst styles = {\n    display: {\n        minHeight: '100vh',\n        display:'flex',\n        flexDirection:'column'\n    },\n    main: {\n        flexGrow:'1',\n        textAlign:'center',\n        color:'rgb(21, 21, 21)'\n    },\n    h2: {\n        borderBottom:'dashed 2px rgba(81, 152, 114, .5)',\n        width:'max-content',\n        margin:'2rem auto',\n        textTransform:'capitalize'\n    },\n    instructions: {\n        width:'65rem',\n        margin:'0 auto 3rem auto'\n    },\n    warning:{\n        color:'rgb(186, 63, 29)'\n    },\n    icon: {\n        fontSize:'1.8rem',\n        verticalAlign:'text-top'\n    },\n    button: {\n        margin:'0 0 1.5rem 1rem',\n        width:'max-content',\n        height:'2.5rem',\n        borderRadius:'3rem',\n        borderColor:'rgb(161, 103, 74)',\n        color:'rgb(161, 103, 74)',\n        backgroundColor:'rgb(253, 255, 252)',\n        fontSize:'.9rem'\n    }\n}"]},"metadata":{},"sourceType":"module"}